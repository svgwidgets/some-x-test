# Visual System Usage Examples

## Basic Usage

### Get a Visual from Library
```typescript
import { svgLibrary } from '@/lib/visuals';

const valveVisual = svgLibrary.get('valve-gate');
console.log(valveVisual?.name); // "Gate Valve"
```

### Render a Visual Component
```vue
<template>
  <svg width="800" height="600" viewBox="0 0 800 600">
    <SVGRenderer
      :visual="valveVisual"
      :position="{ x: 100, y: 200 }"
      :rotation="0"
      color="#4CAF50"
      label="V-001"
      :showPorts="true"
    />
  </svg>
</template>

<script setup>
import { SVGRenderer, svgLibrary } from '@/lib/visuals';

const valveVisual = svgLibrary.get('valve-gate');
</script>
```

## Combining I/O and Visuals
```typescript
import { createDigitalIO, DIGITAL_IO_PRESETS } from '@/lib/io';
import { createVisualIOComponent, svgLibrary, getIOColor } from '@/lib/visuals';

// Create I/O
const valveIO = createDigitalIO({
  id: 'V-001',
  channel: 'plc1.valves.V001.state',
  ...DIGITAL_IO_PRESETS.valve,
});

// Get visual
const valveVisual = svgLibrary.get('valve-gate');

// Create complete component
const valve = createVisualIOComponent({
  id: 'V-001',
  io: valveIO,
  visual: valveVisual!,
  position: { x: 100, y: 200 },
});

// Get color based on I/O state
const color = getIOColor(valve.io);

// Render
<SVGRenderer
  :visual="valve.visual"
  :position="valve.position"
  :color="color"
  :label="valve.id"
/>
```

## Browse Available Visuals
```typescript
import { svgLibrary } from '@/lib/visuals';

// Get all categories
const categories = svgLibrary.getCategories();
console.log(categories); // ['Valves', 'Pumps', 'Tanks', 'Sensors', 'Connections']

// Get visuals by category
const valves = svgLibrary.getByCategory('Valves');
console.log(valves.map(v => v.name)); // ['Gate Valve', 'Ball Valve (BX)', ...]

// Search visuals
const results = svgLibrary.search('ball');
console.log(results[0].name); // 'Ball Valve (BX)'
```

## Register Custom Visual
```typescript
import { svgLibrary } from '@/lib/visuals';
import type { VisualDefinition } from '@/lib/visuals';

const customValve: VisualDefinition = {
  id: 'valve-custom',
  name: 'Custom Valve',
  category: 'Valves',
  svg: 'M 0 0 L 40 20 L 0 40 Z',
  viewBox: { width: 40, height: 40 },
  ports: [
    { id: 'inlet', type: 'inlet', position: { x: 0, y: 20 } },
    { id: 'outlet', type: 'outlet', position: { x: 40, y: 20 } },
  ],
};

svgLibrary.register(customValve);
```
```
