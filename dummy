<template>
  <g>
    <rect
      x="0"
      y="0"
      width="80"
      height="60"
      rx="4"
      fill="white"
      stroke="#333"
      stroke-width="2"
    />
    
    <text x="40" y="20" text-anchor="middle" font-size="12" font-weight="bold" fill="#666">
      {{ io.id.split('-')[0] }}
    </text>
    
    <text x="40" y="40" text-anchor="middle" font-size="16" font-weight="bold" :fill="valueColor">
      {{ io.value.toFixed(io.precision || 1) }}
    </text>
    
    <text x="40" y="54" text-anchor="middle" font-size="10" fill="#999">
      {{ io.unit }}
    </text>
    
    <text x="40" y="-8" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">
      {{ io.id }}
    </text>
  </g>
</template>

<script setup lang="ts">
import { computed } from 'vue';
import type { AnalogIO } from '@/lib/io';
import type { VisualDefinition, Position } from '@/lib/visuals';
import { getIOColor } from '@/lib/visuals';

interface Props {
  io: AnalogIO;
  visual: VisualDefinition;
  position: Position;
}

const props = defineProps<Props>();

const valueColor = computed(() => getIOColor(props.io));
</script>
