<template>
  <g>
    <!-- Use SVGRenderer for base visual -->
    <SVGRenderer
      :visual="visual"
      :position="position"
      :color="{
        '.sensor-value': getIOColor(io)
      }"
      :label="io.id"
      :showPorts="false"
    />
    
    <!-- Overlay dynamic value (SVG text elements can't be in visual definition) -->
    <text x="40" y="40" text-anchor="middle" font-size="16" font-weight="bold" :fill="getIOColor(io)">
      {{ io.value.toFixed(io.precision || 1) }}
    </text>
  </g>
</template>

<script setup lang="ts">
import type { AnalogIO } from '@/lib/io';
import type { VisualDefinition, Position } from '@/lib/visuals';
import { SVGRenderer, getIOColor } from '@/lib/visuals';

interface Props {
  io: AnalogIO;
  visual: VisualDefinition;
  position: Position;
}

defineProps<Props>();
</script>
