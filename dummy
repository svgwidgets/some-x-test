# I/O Component Usage Examples

## Digital I/O

### Create a Valve
```typescript
import { createDigitalIO, DIGITAL_IO_PRESETS } from '@/lib/io';

const valve = createDigitalIO({
  id: 'V-001',
  channel: 'plc1.valves.V001.state',
  initialValue: false,
  ...DIGITAL_IO_PRESETS.valve,
  description: 'Main inlet valve'
});

// Update value
valve.updateValue(true);

// Get state label
console.log(valve.getStateLabel()); // "Open"

// Toggle value
valve.toggle(); // Now closed
```

### Create a Pump
```typescript
const pump = createDigitalIO({
  id: 'P-001',
  channel: 'plc1.pumps.P001.state',
  ...DIGITAL_IO_PRESETS.pump,
  controllable: true
});

// Control pump
pump.setTrue(); // Start pump
pump.setFalse(); // Stop pump
```

## Analog I/O

### Create a Pressure Sensor
```typescript
import { createAnalogIO, ANALOG_IO_PRESETS } from '@/lib/io';

const pressureSensor = createAnalogIO({
  id: 'PT-001',
  channel: 'plc1.sensors.PT001.value',
  initialValue: 150.5,
  ...ANALOG_IO_PRESETS.pressure,
  description: 'Inlet pressure transmitter'
});

// Update value
pressureSensor.updateValue(185.3);

// Get formatted value
console.log(pressureSensor.getFormattedValue()); // "185.3 bar"

// Check state
console.log(pressureSensor.getState()); // "warning-high"

// Get percentage
console.log(pressureSensor.getPercentage()); // 92.65%
```

### Create a Tank Level
```typescript
const tankLevel = createAnalogIO({
  id: 'LT-001',
  channel: 'plc1.tanks.TK001.level',
  ...ANALOG_IO_PRESETS.level,
  alarms: { low: 10, high: 95 }
});

// Update level
tankLevel.updateValue(50);

// Check alarms
if (tankLevel.isInAlarm()) {
  console.warn(`Tank ${tankLevel.id} in alarm state!`);
}
```

## Type Guards
```typescript
import { isDigitalIO, isAnalogIO } from '@/lib/io';

function handleIO(io: IOComponent) {
  if (isDigitalIO(io)) {
    console.log(`Digital: ${io.getStateLabel()}`);
  } else if (isAnalogIO(io)) {
    console.log(`Analog: ${io.getFormattedValue()}`);
  }
}
```
